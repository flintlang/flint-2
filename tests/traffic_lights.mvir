//! expect fail 20
import {{default}}.TrafficLights;
main(account: &signer) {
    TrafficLights.publish(copy(account));
    assert(TrafficLights.getSignal(copy(account)) == 0, 1);
    TrafficLights.moveToAmber(copy(account));
    assert(TrafficLights.getSignal(copy(account)) == 1, 2);
    TrafficLights.moveToGreen(copy(account));
    assert(TrafficLights.getSignal(copy(account)) == 2, 3);
    // We cannot jump straight from green light to a red!
    TrafficLights.moveToRed(copy(account));
    return;
}